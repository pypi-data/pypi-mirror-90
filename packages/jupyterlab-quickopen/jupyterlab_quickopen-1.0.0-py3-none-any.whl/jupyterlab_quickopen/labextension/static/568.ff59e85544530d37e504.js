(self.webpackChunk_parente_jupyterlab_quickopen=self.webpackChunk_parente_jupyterlab_quickopen||[]).push([[568],{568:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(242),s=n(635),o=n(810),i=n(87),c=n(834),r=n(67),l=n(860),d=n(968),p=n(168),m=n(510);class u extends m.CommandPalette{constructor(e,t){super(t),this._pathSelected=new p.Signal(this),this.id="jupyterlab-quickopen",this.title.iconClass="jp-SideBar-tabIcon jp-SearchIcon",this.title.caption="Quick Open",this._fileBrowser=e.defaultBrowser}get pathSelected(){return this._pathSelected}set settings(e){this._settings=e}async onActivateRequest(e){super.onActivateRequest(e);const t=this._settings.relativeSearch?this._fileBrowser.model.path:"",n=await async function(e,t){const n=t.map((e=>"excludes="+encodeURIComponent(e))).join("&"),a=c.ServerConnection.makeSettings(),s=o.URLExt.join(a.baseUrl,"jupyterlab-quickopen","api","files")+"?"+n+"&path="+e,i=await c.ServerConnection.makeRequest(s,{method:"GET"},a);if(200!==i.status)throw new c.ServerConnection.ResponseError(i);return await i.json()}(t,this._settings.excludes);this.clearItems();for(const e in n.contents)for(const t of n.contents[e]){const n=`${e}/${t}`;this.commands.hasCommand(n)||this.commands.addCommand(n,{label:t,execute:()=>{this._pathSelected.emit(n)}}),this.addItem({command:n,category:e})}}}const h={id:"@parente/jupyterlab-quickopen:plugin",autoStart:!0,requires:[s.ICommandPalette,i.IDocumentManager,a.ILabShell,r.ISettingRegistry,l.IFileBrowserFactory],activate:async(e,t,n,a,s,i)=>{console.log(`Activated extension: ${h.id}`);const c=new d.CommandRegistry,r=new u(i,{commands:c}),l=await s.load(h.id);r.pathSelected.connect(((e,t)=>{a.collapseLeft(),n.openOrReveal(o.PathExt.normalize(t))})),r.settings=l.composite,l.changed.connect((e=>{r.settings=e.composite}));const p="quickopen:activate";e.commands.addCommand(p,{label:"Quick Open",execute:()=>{a.activateById(r.id)}}),t.addItem({command:p,category:"File Operations"}),a.add(r,"left",{rank:1e3})}},g=h}}]);