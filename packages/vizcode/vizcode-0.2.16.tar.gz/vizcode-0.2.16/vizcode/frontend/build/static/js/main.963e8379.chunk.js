(this["webpackJsonpcode-visualization-react"]=this["webpackJsonpcode-visualization-react"]||[]).push([[0],{227:function(e,t,n){},422:function(e,t,n){"use strict";n.r(t);var o=n(3),i=n(0),a=n.n(i),r=n(10),s=n.n(r),c=(n(227),n(206)),l=n(121),d=n.n(l),h=n(184),p=n(33),u=n(185),g=n(16),v=n(207),b=n(205),f=n(186),j=n.n(f),y=n(92),m=n.n(y),C=n(187),x=n.n(C),k=n(38),O=n.n(k),N=function e(){Object(p.a)(this,e)};N.connectedNodeColor="#a1c4ff",N.nodeColor="#D3D3D3",N.highlightedNodeColor="#448aff",N.backgroundColor="#ccc",N.edgeColor="#ccc",N.highlightedEdgeColor="#888",N.nodeColorNext="#2f60b2",N.nodeColorPrev="#a1c4ff";var E=N,S=function e(t,n){Object(p.a)(this,e),this.name=t,this.title=n.title;var o=n[this.name];void 0!==o&&(this.language=o.language,this.nodes=o.nodes,this.edges=o.edges)},w=n(188),T=n.n(w),L=n(189);function P(){var e=Object(L.a)(['\n  .prettyprint {\n    background: #1d1f21;\n    font-family: Menlo, "Bitstream Vera Sans Mono", "DejaVu Sans Mono", Monaco, Consolas, monospace;\n    border: 0 !important;\n    font-size: 12px;\n  }\n  .pln {\n    color: #c5c8c6;\n  }\n  ol.linenums {\n    margin-top: 0;\n    margin-bottom: 0;\n    color: #969896;\n  }\n  li.L0,\n  li.L1,\n  li.L2,\n  li.L3,\n  li.L4,\n  li.L5,\n  li.L6,\n  li.L7,\n  li.L8,\n  li.L9 {\n    padding-left: 1em;\n    background-color: #1d1f21;\n    list-style-type: decimal;\n  }\n  @media screen {\n    .str {\n        color: #b5bd68;\n    }\n    .kwd {\n        color: #b294bb;\n    }\n    .com {\n        color: #969896;\n    }\n    .typ {\n        color: #81a2be;\n    }\n    .lit {\n        color: #de935f;\n    }\n    .pun {\n        color: #c5c8c6;\n    }\n    .opn {\n        color: #c5c8c6;\n    }\n    .clo {\n        color: #c5c8c6;\n    }\n    .tag {\n        color: #cc6666;\n    }\n    .atn {\n        color: #de935f;\n    }\n    .atv {\n        color: #8abeb7;\n    }\n    /* declaration */\n    \n    .dec {\n        color: #de935f;\n    }\n    .var {\n        color: #cc6666;\n    }\n    .fun {\n        color: #81a2be;\n    }\n  }\n']);return P=function(){return e},e}var z=n(190).a.div(P()),F=n(194),G=n.n(F),W=n(423),R=n(459);var _=function(e){return Object(o.jsxs)(W.a,{variant:"outlined",style:{marginTop:"5px",paddingTop:"10px",paddingLeft:"20px",paddingRight:"20px",paddingBottom:"10px",maxWidth:"400px"},children:[Object(o.jsx)(R.a,{variant:"body1",style:{fontWeight:"bold"},display:"inline",children:"Name:"}),Object(o.jsxs)(R.a,{variant:"body2",display:"inline",children:[" ",e.name]}),Object(o.jsx)("br",{}),Object(o.jsx)(R.a,{variant:"body1",style:{fontWeight:"bold"},display:"inline",children:"Type:"}),Object(o.jsxs)(R.a,{variant:"body2",display:"inline",children:[" ",e.type]}),Object(o.jsx)("br",{}),Object(o.jsx)(R.a,{variant:"body1",style:{fontWeight:"bold"},display:"inline",children:"File Path:"}),Object(o.jsxs)(R.a,{variant:"body2",display:"inline",children:[" ",e.filePath]}),Object(o.jsx)(R.a,{variant:"subtitle1",style:{fontWeight:"bold"},children:"Comment:"}),Object(o.jsx)(R.a,{variant:"body2",children:e.comment})]})};var D=function(e){var t;return"javascript"==e.language&&(t=Object(o.jsxs)("div",{children:[Object(o.jsx)(R.a,{variant:"subtitle1",style:{"font-weight":"bold"},display:"inline",children:"Props:"}),Object(o.jsxs)(R.a,{variant:"body2",display:"inline",children:[" ",e.props.map((function(e){return Object(o.jsx)("li",{children:e})}))]})]})),Object(o.jsxs)(W.a,{variant:"outlined",style:{"margin-top":"5px","padding-top":"10px","padding-left":"20px","padding-right":"20px","padding-bottom":"10px"},children:[Object(o.jsx)(R.a,{variant:"body1",style:{"font-weight":"bold"},display:"inline",children:"Source:"}),Object(o.jsxs)(R.a,{variant:"body2",display:"inline",children:[" ",e.source]}),Object(o.jsx)("br",{}),Object(o.jsx)(R.a,{variant:"body1",style:{"font-weight":"bold"},display:"inline",children:"Target:"}),Object(o.jsxs)(R.a,{variant:"body2",display:"inline",children:[" ",e.target]}),Object(o.jsx)("br",{}),t]})},H=n(469),I=n(122),B=n(45),M=n(462),U=n(204),A=n(465),V=n(463),K=n(464),J=n(467),q=n(203),Y=n.n(q),Q=n(199),X=n.n(Q),Z=n(461),$=n(460),ee=function e(){Object(p.a)(this,e)};ee.helpText="Hover over a node or an edge to see comments. \n    Click a node once to see its code. \n    Double click on a node to display the node's children. \n    Only nodes whose labels are bold contain a child graph.",ee.backButtonTooltipText="Pop graph",ee.resetButtonTooltipText="Reset screen",ee.revealCodeTooltipText="Toggle to preview source code";var te=ee;var ne=function(e){return Object(o.jsx)($.a,{title:Object(o.jsx)("span",{style:{fontSize:"14px"},children:te.resetButtonTooltipText}),placement:"top",children:Object(o.jsx)(Z.a,{size:"small",style:{backgroundColor:"white"},children:Object(o.jsx)(X.a,{})})})},oe=n(200),ie=n.n(oe);var ae=function(e){return Object(o.jsx)($.a,{title:Object(o.jsx)("span",{style:{fontSize:"14px"},children:te.backButtonTooltipText}),children:Object(o.jsx)(Z.a,{size:"small",style:{backgroundColor:"white"},children:Object(o.jsx)(ie.a,{})})})},re=n(201),se=n.n(re);var ce=function(){return Object(o.jsx)($.a,{title:Object(o.jsx)("span",{style:{fontSize:"14px"},children:te.helpText}),children:Object(o.jsx)(Z.a,{size:"small",style:{backgroundColor:"white"},children:Object(o.jsx)(se.a,{})})})},le=n(202),de=n.n(le);var he=function(){return Object(o.jsx)($.a,{title:Object(o.jsx)("span",{style:{fontSize:"14px"},children:te.revealCodeTooltipText}),children:Object(o.jsx)(Z.a,{size:"small",style:{backgroundColor:"white"},children:Object(o.jsx)(de.a,{})})})},pe=n(468),ue=n(470),ge=n(466),ve=Object(M.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(B.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(B.a)({position:"relative",borderRadius:e.shape.borderRadius,borderColor:"white",marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(B.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(B.a)({display:"flex"},e.breakpoints.down("sm"),{display:"none"})}}));function be(e){var t=ve(),n=Object(U.a)({palette:{primary:{main:"#fff"},secondary:{main:"#448aff"}}});return Object(o.jsx)("div",{className:t.grow,children:Object(o.jsx)(V.a,{position:"static",style:{background:"#ccc"},children:Object(o.jsxs)(K.a,{children:[Object(o.jsx)("img",{style:{height:40,width:40,marginRight:10},src:"/company-icon.png",alt:"logo"}),Object(o.jsx)(R.a,{className:t.title,variant:"h6",noWrap:!0,children:"VizCode Beta"}),Object(o.jsx)("div",{className:t.grow}),Object(o.jsxs)("div",{className:t.sectionDesktop,children:[Object(o.jsx)("div",{style:{marginRight:8},children:Object(o.jsx)(A.a,{theme:n,children:Object(o.jsxs)(ge.a,{container:!0,spacing:1,alignItems:"center",children:[Object(o.jsx)(ge.a,{item:!0,children:Object(o.jsx)(ue.a,{id:"free-solo-demo",style:{height:70,width:400},size:"small",value:e.selectedNodeName,options:Object.keys(e.nodes).map((function(e){return e})),onChange:function(t,n){e.handleClick(n)},renderInput:function(e){return Object(o.jsx)(pe.a,Object(I.a)(Object(I.a)({},e),{},{label:"Search graph...",variant:"standard",style:{marginTop:8,marginBottom:8},className:t.root}))}})}),Object(o.jsx)(ge.a,{item:!0,children:Object(o.jsx)(Y.a,{fontSize:"large"})})]})})}),Object(o.jsx)(J.a,{color:"inherit",onClick:e.resetGraph,children:Object(o.jsx)(ne,{})}),Object(o.jsx)(J.a,{color:"inherit",onClick:e.popGraph,children:Object(o.jsx)(ae,{})}),Object(o.jsx)(J.a,{color:"inherit",children:Object(o.jsx)(ce,{})}),Object(o.jsx)(J.a,{edge:"end",color:"inherit",onClick:e.handleCode,children:Object(o.jsx)(he,{})})]})]})})})}try{m.a.use(G.a)}catch(me){console.log(me)}m.a.use(x.a);var fe=n(417);fe.getInstance().init(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).AMPLITUDE_API_KEY);var je=function(e){Object(v.a)(n,e);var t=Object(b.a)(n);function n(e){var o;return Object(p.a)(this,n),(o=t.call(this,e)).updateGraph=o.updateGraph.bind(Object(g.a)(o)),o.pushGraph=o.pushGraph.bind(Object(g.a)(o)),o.popGraph=o.popGraph.bind(Object(g.a)(o)),o.displayCode=o.displayCode.bind(Object(g.a)(o)),o.handleNodeClick=o.handleNodeClick.bind(Object(g.a)(o)),o.handleEdgeClick=o.handleEdgeClick.bind(Object(g.a)(o)),o.handleEdgeHover=o.handleEdgeHover.bind(Object(g.a)(o)),o.handleEdgeLessHover=o.handleEdgeLessHover.bind(Object(g.a)(o)),o.resetToDefault=o.resetToDefault.bind(Object(g.a)(o)),o.handleSearchClick=o.handleSearchClick.bind(Object(g.a)(o)),o.handleCode=o.handleCode.bind(Object(g.a)(o)),o.refitGraph=o.refitGraph.bind(Object(g.a)(o)),o.resizeWindow=o.resizeWindow.bind(Object(g.a)(o)),o.updateFilePath=o.updateFilePath.bind(Object(g.a)(o)),o.cyPopperRef=a.a.createRef(),o.cyPopperEdgeRef=a.a.createRef(),o.state={elements:[],rootGraph:"main",initialized:!1,graphStack:[],times:{},currentCode:"",graph:null,node:null,prevClickedNode:null,edge:null,prevClickedEdge:null,connectedEdges:[],incomers:[],outgoers:[],selectedNodeName:null,codeWidth:"40%",graphWidth:"60%",resizeTimer:null,highlightedCode:null,openFile:""},o}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){var t,n,o=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("python_graph.json");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,this.setState({graphData:n},(function(){o.updateGraph(o.state.rootGraph),!!window.chrome||window.addEventListener("resize",o.resizeWindow);var e={nodeSize:Object.keys(n.main.nodes).length,edgeSize:n.main.edges.length};fe.getInstance().logEvent("Initialized",e)}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){!!window.chrome||window.removeEventListener("resize",this.resizeWindow),this.cy.removeListener("tap"),this.cy.removeListener("mouseover"),this.cy.removeListener("mouseout"),fe.getInstance().logEvent("ClosedInstance")}},{key:"updateGraph",value:function(e){var t=this,n=new S(e,this.state.graphData),o=this.formatGraph(n);this.setState({initialized:!1},(function(){t.pushGraph(n,o)}))}},{key:"resizeWindow",value:function(){clearTimeout(this.state.resizeTimer),this.state.resizeTimer=setTimeout(function(){var e=this,t=this.state.graph;this.setState({initialized:!1},(function(){e.setState({initialized:!0,graph:t,currentCode:"",node:null,prevClickedNode:null,edge:null,prevClickedEdge:null,connectedEdges:[],incomers:[],outgoers:[],selectedNodeName:null},(function(){e.setUpListeners();var n=e.cy;n.nodes().forEach((function(e){var o=e._private.data.id;void 0!=t.nodes[o].child&&n.nodes('[id = "'.concat(o,'"]')).style("font-weight","bold")}))}))}))}.bind(this),1e3)}},{key:"pushGraph",value:function(e,t){var n=this;this.state.graphStack.push(e.name),this.setState({elements:t,initialized:!0,graph:e,currentCode:"",node:null,prevClickedNode:null,edge:null,prevClickedEdge:null,connectedEdges:[],incomers:[],outgoers:[],selectedNodeName:null},(function(){n.setUpListeners();var t=n.cy;t.nodes().forEach((function(n){var o=n._private.data.id;void 0!=e.nodes[o].child&&t.nodes('[id = "'.concat(o,'"]')).style("font-weight","bold")}))}))}},{key:"popGraph",value:function(){if(this.state.graphStack.length>1){this.state.graphStack.pop();var e=this.state.graphStack[this.state.graphStack.length-1];this.updateGraph(e),this.state.graphStack.pop(),this.setState({currentCode:"",node:null,prevClickedNode:null,edge:null,prevClickedEdge:null,connectedEdges:[],incomers:[],outgoers:[],selectedNodeName:null,openFile:""})}}},{key:"formatGraph",value:function(e){var t=this,n=[];return Object.keys(e.nodes).forEach((function(o){n.push(t.formatNode(e.nodes,o))})),e.edges.forEach((function(e){n.push(t.formatEdge(e))})),n}},{key:"formatNode",value:function(e,t){return{data:{id:t,label:e[t].name,type:e[t].type}}}},{key:"formatEdge",value:function(e){return{data:{source:e.from,target:e.to,props:e.data.props}}}},{key:"displayCode",value:function(e){var t=this,n=this.state.graph.nodes[e].filePath;void 0!==n?fetch(n).then((function(e){return e.text()})).then((function(e){t.setState({currentCode:e})})):this.setState({currentCode:""})}},{key:"createContentFromComponent",value:function(e){var t=document.createElement("div");return s.a.render(e,t),document.body.appendChild(t),t}},{key:"updateFilePath",value:function(e){"python"==this.state.graph.language?this.setState({openFile:this.state.graph.nodes[e].originalFilePath}):this.setState({openFile:"/src/".concat(e,".js")})}},{key:"moveCameraToNode",value:function(e){var t=this.cy.nodes('[id = "'.concat(e,'"]'))[0],n=t.incomers(),o=t.outgoers();n.merge(o),n.merge(t),this.cy.fit(n,10)}},{key:"handleNodeClick",value:function(e){var t=this;fe.getInstance().logEvent("NodeClick");var n=e.target,o=n._private.data.id,i=new Date;if(this.cy.nodes('[id != "'.concat(o,'"]')).style("background-color",E.nodeColor),null!=this.state.prevClickedNode&&this.state.prevClickedNode!=n){var a=this.state.prevClickedNode._private.data.id;this.changeNodeColor(a,E.nodeColor)}if(this.state.graphStack.length<2&&this.updateFilePath(o),this.state.prevClickedNode=n,this.state.selectedNodeName=o,this.setState({currentCode:""}),void 0!==this.state.times[o]){if(i-this.state.times[o]<300){var r=this.state.graph.nodes[o].child;void 0!==r&&(this.handleNodeLessHover(e),this.updateGraph(r))}else this.displayCode(o);this.state.times[o]=i}else this.state.times[o]=i,this.displayCode(o);this.cy.edges().style("lineColor",E.edgeColor);var s=n.incomers(),c=n.outgoers(),l=n.connectedEdges();this.state.incomers=s,this.state.outgoers=c,this.state.connectedEdges=l,s.style("background-color",E.nodeColorPrev),c.style("background-color",E.nodeColorNext),l.style("lineColor",E.highlightedEdgeColor),this.setState({prevClickedEdge:null,edge:null},(function(){setTimeout(function(){var e=this,t=this.state.graph.nodes[o].highlightedCodePath;void 0!==t&&fetch(t).then((function(e){return e.text()})).then((function(t){return e.setState({lineNums:t.split(/\r\n|\r|\n/).length,highlightedCode:t.replace(/\s+/g,"")},(function(){void 0!=e.state.highlightedCode&&e.highlightCode()}))}))}.bind(t),250)}))}},{key:"changeNodeColor",value:function(e,t){this.cy.nodes('[id = "'.concat(e,'"]')).style("background-color",t)}},{key:"handleNodeHover",value:function(e){var t=e.target;this.state.node=t;var n=t._private.data.id,i=this.state.graph.nodes[n].type,a=this.state.graph.nodes[n].comment,r=this.state.graph.nodes[n].originalFilePath;this.changeNodeColor(n,E.highlightedNodeColor),this.cyPopperRef.current=t.popper({content:this.createContentFromComponent(Object(o.jsx)(_,{name:t._private.data.label,comment:a,type:i,filePath:r})),popper:{placement:"below",removeOnDestroy:!0}}),O()("#root").css("cursor","pointer")}},{key:"handleNodeLessHover",value:function(e){var t=e.target,n=t._private.data.id;this.state.incomers.includes(t)&&this.state.outgoers.includes(t)?this.changeNodeColor(n,E.nodeColorNext):this.state.incomers.includes(t)?this.changeNodeColor(n,E.nodeColorPrev):this.state.outgoers.includes(t)?this.changeNodeColor(n,E.nodeColorNext):t!=this.state.prevClickedNode&&this.changeNodeColor(n,E.nodeColor),this.cyPopperRef&&this.cyPopperRef.current.destroy(),O()("#root").css("cursor","auto")}},{key:"addWrapper",value:function(e,t,n){var o=document.createElement("div");o.id="codeHighlight",o.style.backgroundColor="#696969";for(var i=!1,a=t;a<n+1;a++){var r=e[a];a==t&&(r.textContent.includes("\n\n")&&(i=!0),r.textContent=r.textContent.replace(/(\r\n|\n|\r)/gm,"")),r.remove(),r.style.color="FFFFFF",o.appendChild(r)}0!=t?e[t-1].after(o):e.length>n+1&&e[n+1].before(o),o.before(document.createElement("br")),i&&0!=t&&(e[t-1].textContent=e[t-1].textContent+"\n"),e.length>n+1&&(e[n+1].textContent.includes("\n\n")&&o.after(document.createElement("br")),e[n+1].textContent=e[n+1].textContent.replace(/(\r\n|\n|\r)/gm,""))}},{key:"highlightCode",value:function(){for(var e,t,n=O()("code").find("span"),o=!1,i=this.state.highlightedCode.length,a=0;a<n.length&&!o;a++)for(var r="",s=a;s<n.length;s++){var c=n[s].textContent.replace(/\s+/g,"");if((r=r.concat(c)).length>i)break;if(r.length==i&&r==this.state.highlightedCode){e=a,t=s,this.addWrapper(n,e,t),o=!0;break}}var l=document.getElementById("codeHighlight");l&&l.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}},{key:"handleEdgeClick",value:function(e){var t=this;fe.getInstance().logEvent("EdgeClick");var n=e.target;this.cy.nodes().style("background-color",E.nodeColor),this.cy.edges().forEach((function(e){e!=n&&e.style("line-color",E.edgeColor)}));var i=n._private.data.source,a=n._private.data.target;this.state.graphStack.length<2&&this.updateFilePath(i),this.setState({currentCode:""},(function(){t.displayCode(i)})),this.setState({prevClickedEdge:n,node:null,prevClickedNode:null,selectedNodeName:null},(function(){setTimeout(function(){var e,t=this,n=!1,o=Object(c.a)(this.state.graph.edges);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(r.from==i&&r.to==a){n=!0;break}}}catch(me){o.e(me)}finally{o.f()}if(n){var s=r.highlightedCodePath;void 0!==s&&fetch(s).then((function(e){return e.text()})).then((function(e){return t.setState({highlightedCode:e.replace(/\s+/g,"")},(function(){void 0!=t.state.highlightedCode&&t.highlightCode()}))}))}}.bind(t),250)})),this.cyPopperEdgeRef.current=n.popper({content:this.createContentFromComponent(Object(o.jsx)(D,{target:n._private.data.target,source:n._private.data.source,props:n._private.data.props,language:this.state.graph.language})),popper:{placement:"below",removeOnDestroy:!0}})}},{key:"handleEdgeHover",value:function(e){var t=e.target;this.state.edge=t,t.style("lineColor",E.highlightedEdgeColor),O()("#root").css("cursor","pointer")}},{key:"handleEdgeLessHover",value:function(e){this.state.edge==this.state.prevClickedEdge||this.state.connectedEdges.includes(this.state.edge)||this.state.edge.style("lineColor",E.nodeColor),null!==this.cyPopperEdgeRef.current&&(this.cyPopperEdgeRef.current.destroy(),this.cyPopperEdgeRef.current=null),O()("#root").css("cursor","auto")}},{key:"refitGraph",value:function(){this.cy.resize(),this.cy.fit(30)}},{key:"handleCode",value:function(){var e=this;"60%"==this.state.graphWidth?this.setState({codeWidth:"0%",graphWidth:"100%"},(function(){e.refitGraph()})):this.setState({codeWidth:"40%",graphWidth:"60%"},(function(){e.refitGraph()}))}},{key:"setUpListeners",value:function(){var e=this;this.cy.on("mouseover","node",(function(t){e.handleNodeHover(t)})),this.cy.on("mouseout","node",(function(t){e.handleNodeLessHover(t)})),this.cy.on("tap","node",(function(t){e.handleNodeClick(t)})),this.cy.on("tap","edge",(function(t){e.handleEdgeClick(t)})),this.cy.on("mouseover","edge",(function(t){e.handleEdgeHover(t)})),this.cy.on("mouseout","edge",(function(t){e.handleEdgeLessHover(t)}))}},{key:"resetToDefault",value:function(){this.setState({graphStack:[],graph:null,currentCode:"",node:null,prevClickedNode:null,edge:null,prevClickedEdge:null,connectedEdges:[],incomers:[],outgoers:[],openFile:""}),this.updateGraph(this.state.rootGraph)}},{key:"resetGraph",value:function(){this.cy.nodes().style("background-color",E.nodeColor),this.cy.edges().style("line-color",E.edgeColor),this.setState({currentCode:"",node:null,prevClickedNode:null,edge:null,prevClickedEdge:null,connectedEdges:[],incomers:[],outgoers:[],selectedNodeName:null})}},{key:"handleSearchClick",value:function(e){if(fe.getInstance().logEvent("SearchClick"),this.resetGraph(),void 0!=e){this.moveCameraToNode(e);var t=this.cy.nodes('[id = "'.concat(e,'"]'))[0];this.setState({node:t,prevClickedNode:t,selectedNodeName:e}),this.state.graphStack.length<2&&this.setState({openFile:"/src/".concat(e,".js")}),this.changeNodeColor(e,E.highlightedNodeColor);var n=t.incomers(),o=t.outgoers();this.setState({incomers:n,outgoers:o}),n.style("background-color",E.nodeColorPrev),o.style("background-color",E.nodeColorNext),t.connectedEdges().style("lineColor",E.highlightedEdgeColor),this.displayCode(e),setTimeout(function(){var t=this,n=this.state.graph.nodes[e].highlightedCodePath;void 0!==n&&fetch(n).then((function(e){return e.text()})).then((function(e){return t.setState({highlightedCode:e.replace(/\s+/g,"")},(function(){void 0!=t.state.highlightedCode&&t.highlightCode()}))}))}.bind(this),250)}else this.setState({selectedNodeName:null,openFile:""})}},{key:"render",value:function(){var e=this;if(this.state.initialized){var t=Object(o.jsx)(R.a,{style:{color:"white",marginTop:"50%"},align:"center",children:"Press on a node to see related code"});return""!=this.state.currentCode&&(t=Object(o.jsx)(z,{children:Object(o.jsx)("pre",{className:"prettyprint linenums",style:{whiteSpace:"pre-wrap",marginTop:"0"},children:Object(o.jsx)("code",{className:"language-javascript linenums",children:Object(o.jsx)("div",{dangerouslySetInnerHTML:{__html:T.a.prettyPrintOne(this.state.currentCode.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),this.state.graph.language)}})})})})),Object(o.jsxs)(H.a,{style:{width:O()(window).width(),height:O()(window).height()},children:[Object(o.jsx)(H.a,{children:Object(o.jsx)(be,{handleClick:this.handleSearchClick,nodes:this.state.graph.nodes,selectedNodeName:this.state.selectedNodeName,handleCode:this.handleCode,resetGraph:this.resetToDefault,popGraph:this.popGraph,title:this.state.graph.title})}),Object(o.jsxs)(H.a,{id:"field",style:{display:"flex",height:"calc(100% - 64px)"},children:[Object(o.jsx)(j.a,{elements:this.state.elements,style:{width:this.state.graphWidth},cy:function(t){e.cy=t},layout:{name:"dagre",ranker:"longest-path",rankDir:"LR",spacingFactor:1,fit:!0,padding:30,rankSep:1e3},stylesheet:[{selector:"node",style:{"background-color":E.nodeColor,label:"data(id)","text-margin-y":"-5px","font-size":"18px",height:"50px",width:"50px"}},{selector:'node[type="Component"]',style:{shape:"diamond"}},{selector:'node[type="Function"]',style:{shape:"ellipse"}},{selector:'node[type="HTML"]',style:{shape:"tag"}},{selector:"edge",style:{width:4,lineColor:"#ccc",curveStyle:"bezier",targetArrowShape:"triangle",arrowScale:1.8}}]}),"40%"==this.state.codeWidth&&Object(o.jsxs)("div",{className:"codeWindow",id:"codeWindow",style:{width:this.state.codeWidth,overflow:"scroll",backgroundColor:"#1d1f21",paddingLeft:"10px",paddingRight:"10px",paddingTop:"10px"},children:[this.state.openFile&&Object(o.jsxs)("div",{children:[Object(o.jsxs)(R.a,{variant:"subtitle2",style:{color:"white"},children:["File path: ",this.state.openFile]}),Object(o.jsx)("hr",{})]}),t]})]})]})}return Object(o.jsx)("div",{})}}]),n}(i.Component),ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,472)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),o(e),i(e),a(e),r(e)}))};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(je,{})}),document.getElementById("root")),ye()}},[[422,1,2]]]);
//# sourceMappingURL=main.963e8379.chunk.js.map