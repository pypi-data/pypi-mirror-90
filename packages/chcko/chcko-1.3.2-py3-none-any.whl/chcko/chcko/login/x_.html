% if failed:
<strong>{{tfail}}</strong> {{tcheckagain}}
% end

<script>
function validate() {
    var email = document.login.email.value;
    if (email == "") {
        alert("{{temail}}");
        return false;
    }
    var password = document.login.password.value;
    if (password == "") {
        alert("{{tpassword}}");
        return false;
    }
    return true;
}
</script>

<form method="POST" name=login onsubmit='return validate()'>
<div class="grid_10" style="margin:0.5em 0.5em">
    <div class="grid_2">
    <label for="email">{{temail}}</label>
    </div>
    <input class="grid_7 chq" type="email" name="email" id="email" class="chq"
    %if 'email' in chelf.request.params:
         value="{{chelf.request.params['email']}}"
    %end
    />
</div>
<div class="grid_10" style="margin:0.5em 0.5em">
    <div class="grid_2">
    <label for="password">{{tpassword}}</label>
    </div>
    <input class="grid_7 chq" type="password" name="password"/>
</div>
<input class="nbutton chq grid_10" style="text-align:center;margin:0.5em 0.5em;" type="submit" value="{{tlogin}}"/>
</form>

<div class="grid_10" style="margin:1em 1em;">
<div class="grid_5" style="margin-left:-0.5em;">
<a href="/{{chelf.request.chlang}}/forgot" id="forgot">{{tforgot}}</a><br>
</div>
<div class="grid_5" style="text-align:right;">
<a href="/{{chelf.request.chlang}}/signup" id="signup">{{tsignup}}</a>
</div>
</div>

<script> 
    var emailinput = document.getElementById('email');
    signup = document.getElementById('signup');
    forgot = document.getElementById('forgot');
    signup.onclick = function () {
        if (emailinput.value != "")
            this.href = ('/{{chelf.request.chlang}}/signup?email=')+emailinput.value;
    };
    forgot.onclick = function () {
        if (emailinput.value != "")
            this.href = ('/{{chelf.request.chlang}}/forgot?email=')+emailinput.value;
    };
</script>

% include('chcko/main')
