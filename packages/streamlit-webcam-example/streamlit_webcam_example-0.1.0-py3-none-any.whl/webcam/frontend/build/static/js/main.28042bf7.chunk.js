(this["webpackJsonpstreamlit-webcam-example"]=this["webpackJsonpstreamlit-webcam-example"]||[]).push([[0],{16:function(e,t,a){e.exports=a(25)},25:function(e,t,a){"use strict";a.r(t);var r,n=a(7),i=a.n(n),c=a(14),o=a.n(c),u=a(0),l=a(3),m=a(6),s=a(5),d=a(1),h=a(2),g=(a(21),a(12));!function(e){e.PENDING="pending",e.SUCCESS="success",e.FAILURE="failure"}(r||(r={}));var p=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={},e.onGotMediaStream=function(t){var a=null;if(t.getVideoTracks().length>0){var r=t.getVideoTracks()[0];a=new(0,window.ImageCapture)(r)}e.setState({mediaStream:t,imageCapture:a})},e.requireFeature=function(e){var t=document.featurePolicy;if(null!=t&&!t.allowsFeature(e))throw new Error("'".concat(e,"' is not in our featurePolicy"))},e.assignMediaStream=function(t){null!=t&&null!=e.state.mediaStream&&(t.srcObject=e.state.mediaStream,t.play().catch((function(e){return console.warn("'video.play' error: ".concat(e.toString()))})))},e.render=function(){var t=e.webcamRequestState;return t===r.SUCCESS?i.a.createElement("div",null,i.a.createElement("button",{onClick:e.captureFrame,disabled:e.props.disabled||null==e.state.imageCapture},"Capture Frame"),i.a.createElement("video",{ref:e.assignMediaStream,height:500})):t===r.FAILURE?i.a.createElement("div",null,"Webcam error: ",e.state.mediaStreamErr.toString()):i.a.createElement("div",null,"Requesting webcam...")},e.captureFrame=function(){null!=e.state.imageCapture?e.state.imageCapture.grabFrame().then(S).then((function(e){var t={width:e.width,height:e.height,data:Array.from(e.data)};g.a.setComponentValue(t)})).catch((function(e){console.error("CaptureFrame error: ".concat(e.toString()))})):console.warn("Can't captureFrame: no imageCapture object!")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(Object(m.a)(Object(s.a)(a.prototype),"componentDidMount",this).call(this),null!=navigator.mediaDevices){try{this.requireFeature("camera")}catch(r){return void this.setState({mediaStreamErr:r})}var t={audio:!1,video:!0};navigator.mediaDevices.getUserMedia(t).then(this.onGotMediaStream).catch((function(t){return e.setState({mediaStreamErr:t})}))}else this.setState({mediaStreamErr:"Can't access MediaDevices. Are you running in https?"})}},{key:"webcamRequestState",get:function(){return null!=this.state.mediaStreamErr?r.FAILURE:null!=this.state.mediaStream?r.SUCCESS:r.PENDING}}]),a}(g.b);function S(e){var t=document.body.appendChild(document.createElement("canvas"));try{t.width=e.width,t.height=e.height;var a=t.getContext("2d");if(null==a)throw new Error("Couldn't get 2D context from <canvas>");return a.clearRect(0,0,t.width,t.height),a.drawImage(e,0,0),a.getImageData(0,0,t.width,t.height)}finally{document.body.removeChild(t)}}var v=Object(g.c)(p);o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(v,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.28042bf7.chunk.js.map