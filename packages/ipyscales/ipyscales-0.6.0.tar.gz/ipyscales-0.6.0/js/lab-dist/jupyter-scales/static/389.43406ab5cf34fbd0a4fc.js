(self.webpackChunkjupyter_scales=self.webpackChunkjupyter_scales||[]).push([[389],{3153:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chromabar=void 0;const r=n(6216),o=n(4735),i=n(885),a=n(8214),l=n(1429),c=n(7802),u=n(6369),s=Array.prototype.slice;e.chromabar=function(t){let e="vertical",n="bottomright",f=100,h=30,d=1,g=[],p=null,m=null,v=6,y=6,w=3,x=null,b=5,M=5,k=5,A=null,_=null;const $=s=>{void 0===t&&(t=o.scaleLinear().range(["black","white"])),s.each((function(){const t=i.select(this.ownerSVGElement||this).selectAll("defs").data([null]);t.exit().remove(),t.enter().append("defs")}));const $="horizontal"===e,Z=$?f:h,S=$?h:f,P=$?[0,f-1]:[f-1,0],E=c.makeAxisScale(t,P);let O,B=function(t,e,n){if("vertical"===t){if("topleft"===e)return r.axisLeft(n);if("bottomright"===e)return r.axisRight(n);throw new Error(`Invalid colorbar side "${e}"`)}if("horizontal"===t){if("topleft"===e)return r.axisTop(n);if("bottomright"===e)return r.axisBottom(n);throw new Error(`Invalid colorbar side "${e}"`)}throw new Error(`Invalid colorbar orientation "${t}"`)}(e,n,E).tickArguments(g).tickSizeInner(v).tickSizeOuter(y).tickPadding(w);null!==p&&B.tickValues(p),null!==m&&B.tickFormat(m),O=c.scaleIsOrdinal(t)?null===_?_=l.ordinalBar(t,[0,f-1]):_.scale(t).axisExtent([0,f-1]):null===A?A=a.colorbar(t,E):A.scale(t).axisScale(E),O.breadth(h).orientation(e);let T=s.selectAll("g.axis").data([null]);T=T.merge(T.enter().append("g").attr("class","axis")),T.exit().remove(),T.call(B);let j=s.selectAll("g.colorbar").data([null]);j=j.merge(j.enter().append("g").attr("class","colorbar")),j.exit().remove(),j.call(O);let z=j.selectAll("rect.background").data([null]);z=z.merge(z.enter().insert("rect","rect").attr("class","background").attr("fill",(function(){const t=i.select(this.ownerSVGElement);return`url(#${c.ensureCheckerPattern(t)})`})).attr("stroke-width",0)),z.attr("width",Z).attr("height",S),z.exit().remove();let F=j.selectAll("rect.border").data([null]);F=F.merge(F.enter().insert("rect","rect").attr("class","border").attr("fill","transparent").attr("stroke","currentColor").attr("x",0).attr("y",0)),F.attr("stroke-width",2*d).attr("width",Z).attr("height",S),F.exit().remove();let I=s.selectAll("g.title").data(x?[x]:[]);const G=I.enter().append("g").attr("class","title");G.append("text").style("text-anchor","middle").attr("fill","currentColor"),I=I.merge(G),I.exit().remove(),I.select("text").text((t=>t)).attr("transform",(function(){return`translate(${$?.5*f:0}, ${$?0:.5*f})rotate(${$?0:-90})`}));let V=k,C=k+d,N=0,D=0,H=f+d;"topleft"===n?(V+=x?b:0,I.attr("transform",(function(){const t=u.getBBox(this);return N=Math.max(N,Math.ceil($?t.height:t.width)),`translate(${$?C:V+.5*N}, ${$?V+.5*N:C})`})),V+=N+M,T.attr("transform",(function(){const t=u.getBBox(this);return D=Math.max(D,Math.ceil($?t.height:t.width)),H=Math.max(H,Math.ceil($?t.width:t.height)),`translate(${$?C:V+D}, ${$?V+D:C})`})),V+=D+d,j.attr("transform",`translate(${$?C:V}, ${$?V:C})`),V+=h):(V+=d,j.attr("transform",(function(){return`translate(${V}, ${C})`})),V+=h,T.attr("transform",(function(){const t=u.getBBox(this);return D=Math.max(D,Math.ceil($?t.height:t.width)),H=Math.max(H,Math.ceil($?t.width:t.height)),`translate(${$?C:V}, ${$?V:C})`})),V+=M+D,I.attr("transform",(function(){const t=u.getBBox(this);return N=Math.max(N,Math.ceil($?t.height:t.width)),`translate(${$?C:V+.5*N}, ${$?V+.5*N:C})`})),V+=N),$?(s.attr("height",V+2*k),s.attr("width",H+2*k)):(s.attr("height",H+2*k),s.attr("width",V+2*k))};return $.scale=function(e){return arguments.length?(t=e,$):t},$.orientation=function(t){return arguments.length?(e=t,$):e},$.side=function(t){return arguments.length?(n=t,$):n},$.barLength=function(t){return arguments.length?(f=t,$):f},$.breadth=function(t){return arguments.length?(h=t,$):h},$.borderThickness=function(t){return arguments.length?(d=t,$):d},$.title=function(t){return arguments.length?(x=t,$):x},$.titlePadding=function(t){return arguments.length?(b=t,$):b},$.axisPadding=function(t){return arguments.length?(M=t,$):M},$.padding=function(t){return arguments.length?(k=t,$):k},$.ticks=function(){return g=s.call(arguments),$},$.tickArguments=function(t){return arguments.length?(g=null==t?[]:s.call(t),$):g.slice()},$.tickValues=function(t){return arguments.length?(p=null==t?null:s.call(t),$):p&&p.slice()},$.tickFormat=function(t){return arguments.length?(m=t,$):m},$.tickSize=function(t){return arguments.length?(v=y=+t,$):v},$.tickSizeInner=function(t){return arguments.length?(v=+t,$):v},$.tickSizeOuter=function(t){return arguments.length?(y=+t,$):y},$.tickPadding=function(t){return arguments.length?(w=+t,$):w},$}},8214:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.colorbar=void 0;const r=n(2777),o=n(885),i=n(7802);e.colorbar=function(t,e){let n="vertical",a=30;const l=i.generateSvgID("chromabar-data"),c=c=>{const u="horizontal"===n,s=r.extent(e.range()),f=Math.abs(s[1]+1-s[0]);c.each((function(){const n=o.select(this.ownerSVGElement||this),a=i.createGradient(n,l);a.attr("x1",0).attr("y1",0),u?a.attr("x2",1).attr("y2",0):a.attr("x2",0).attr("y2",1);let c=a.selectAll("stop").data(r.range(s[0],s[1]+1));c=c.merge(c.enter().append("stop")),c.exit().remove(),c.attr("offset",(t=>(t+.5-s[0])/f)).attr("stop-color",(n=>t(e.invert(n))))}));let h=c.selectAll("rect.gradient").data([null]);h=h.merge(h.enter().append("rect").attr("class","gradient").attr("fill",`url(#${l})`)),h.exit().remove(),u?h.attr("x",s[0]).attr("y",0).attr("width",f).attr("height",a):h.attr("x",0).attr("y",s[0]).attr("width",a).attr("height",f)};return c.scale=function(e){return arguments.length?(t=e,c):t},c.axisScale=function(t){return arguments.length?(e=t,c):e},c.orientation=function(t){return arguments.length?(n=t,c):n},c.breadth=function(t){return arguments.length?(a=t,c):a},c}},7802:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeAxisScale=e.scaleIsOrdinal=e.ensureCheckerPattern=e.generateSvgID=e.createGradient=void 0;const r=n(4735);e.createGradient=function(t,e){let n=t.selectAll("defs").data([null]);n=n.merge(n.enter().append("defs")),n.exit().remove();let r=n.selectAll(`linearGradient#${e}`).data([null]);return r=r.merge(r.enter().append("linearGradient").attr("id",e)),r.exit().remove(),r};const o={};function i(t=""){return o[t]=(o[t]||0)+1,`${t}-${o[t]}`}function a(t){const e=t.copy();try{return 1===e.domain([1,2]).range([1,2])(1.5)}catch(t){return!1}}e.generateSvgID=i,e.ensureCheckerPattern=function(t){let e=t.selectAll("defs").data([null]);e=e.merge(e.enter().append("defs")),e.exit().remove();let n=e.selectAll("pattern.checkerPattern").data([null]);n.exit().remove();let r=n.enter().append("pattern").attr("id",(()=>i("checkerPattern"))).attr("class","checkerPattern").attr("viewBox","0,0,10,10").attr("width",10).attr("height",10).attr("patternUnits","userSpaceOnUse");return r.append("path").attr("d","M0,0v10h10V0").attr("fill","#555"),r.append("path").attr("d","M0,5h10V0h-5v10H0").attr("fill","#fff"),n.merge(r).attr("id")},e.scaleIsOrdinal=a,e.makeAxisScale=function(t,e){const n=t.domain();if(a(t))return r.scaleBand().domain(t.domain()).range(e);let o;o="function"==typeof t.range&&"function"==typeof t.invert?t.copy:()=>r.scaleLinear().domain(n);const i=o().domain([n[0],n[n.length-1]]).range(e);return o().range(n.map((t=>i(t))))}},8959:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.colorHandle=e.constant=void 0;const r=n(7802),o=n(885);function i(t){return t}e.constant=i,e.colorHandle=function(){let t=10,e=15,n=1,a=i;const l=function(i){const l=e,c=t,u=c/2;i.each((function(){const t=o.select(this.ownerSVGElement||this).selectAll("defs").data([null]);t.exit().remove(),t.enter().append("defs")}));let s=i.selectAll("polygon.border").data([null]);s=s.merge(s.enter().append("polygon").attr("class","border").attr("stroke","currentColor").attr("stroke-linejoin","round").attr("fill","transparent")),s.exit().remove(),s.attr("stroke-width",2*n).attr("points",`0 0, ${u} ${u}, ${u} ${u+l}, ${-u} ${u+l}, ${-u} ${u}`);let f=i.selectAll("polygon.triangle").data([null]);f=f.merge(f.enter().append("polygon").attr("class","triangle").attr("stroke-width",0).attr("fill","rgb(128, 128, 128)")),f.exit().remove(),f.attr("points",`0 0, ${u} ${u}, ${-u} ${u}`);const h=`0 0, ${c} 0, ${c} ${l}, 0 ${l}`;let d=i.selectAll("polygon.bbox").data([null]);d=d.merge(d.enter().append("polygon").attr("class","bbox").attr("stroke-width",0).attr("fill",(function(){const t=o.select(this.ownerSVGElement);return`url(#${r.ensureCheckerPattern(t)})`}))),d.exit().remove(),d.attr("points",h).attr("transform",`translate(${-u}, ${u})`);let g=i.selectAll("polygon.box").data((t=>[t]));g=g.merge(g.enter().append("polygon").attr("class","box").attr("stroke-width",0)),g.exit().remove(),g.attr("fill",a).attr("points",h).attr("transform",`translate(${-u}, ${u})`)};return l.color=function(t){return arguments.length?(a=t,l):a},l.height=function(t){return arguments.length?(e=t,l):e},l.width=function(e){return arguments.length?(t=e,l):t},l.borderThickness=function(t){return arguments.length?(n=t,l):n},l.fullWidth=function(){return t+2*n},l.fullHeight=function(){return e+.5*t+2*n},l}},3795:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chromaEditor=void 0;const r=n(8679),o=n(4735),i=n(885),a=n(8214),l=n(7802),c=n(8959);e.chromaEditor=function(t){let e="vertical",n=100,u=30,s=1,f=0,h=null;const d=c.colorHandle(),g=a.colorbar(null,null),p=a=>{void 0===t&&(t=o.scaleLinear().range(["black","white"]));const c="horizontal"===e,p=c?n:u,v=c?u:n;a.each((function(){const t=i.select(this.ownerSVGElement||this).selectAll("defs").data([null]);t.exit().remove(),t.enter().append("defs")}));const y=c?[0,n-1]:[n-1,0],w=l.makeAxisScale(t,y);g.scale(t).axisScale(w).breadth(u).orientation(e);let x=a.selectAll("g.colorbar").data([null]);x=x.merge(x.enter().append("g").attr("class","colorbar")),x.exit().remove(),x.call(g);let b=x.selectAll("rect.background").data([null]);b=b.merge(b.enter().insert("rect","rect").attr("class","background").attr("fill",(function(){const t=i.select(this.ownerSVGElement);return`url(#${l.ensureCheckerPattern(t)})`})).attr("stroke-width",0)),b.attr("width",p).attr("height",v),b.exit().remove();let M=x.selectAll("rect.border").data([null]);M=M.merge(M.enter().insert("rect","rect").attr("class","border").attr("fill","transparent").attr("stroke","currentColor").attr("x",0).attr("y",0)),M.attr("stroke-width",2*s).attr("width",p).attr("height",v);let k=a.selectAll("g.handles").data([null]);k.exit().remove(),k=k.merge(k.enter().append("g").attr("class","handles"));let A=k.selectAll("g.colorHandle").data(t.domain());A=A.merge(A.enter().append("g").attr("class","colorHandle")),A.exit().remove(),d.color(t);const _=d.borderThickness()+f+.5*d.width(),$=f+2*s+d.borderThickness(),Z=r.drag().on("drag",(function(n,r){const o="horizontal"===e;let a=w.invert(o?i.event.x:i.event.y);const l=t.domain();l[r]=a,t.domain(l),h&&h(!1)})).on("end",(function(t,e){h&&h(!0)}));A.call(d).attr("transform",(function(t){const e=w(t)||0;return c?`translate(${e+_}, ${u+$})`:`translate(${u+$}, ${e+_})rotate(-90)`})).on("dblclick",(function(e,n){!function(e){const n=t.range()[e];m.attr("value",n),m.on("change",(function(){let n=t.range();n[e]=i.event.target.value,t.range(n),h&&h(!0)})),m.node().click()}(n)})).call(Z),x.attr("transform",(function(){return`translate(${c?_:f+s}, ${c?f+s:_})`}));const S=d.fullWidth(),P=d.fullHeight(),E=n+2*f+S,O=u+2*f+2*s+P;c?(a.attr("height",O),a.attr("width",E)):(a.attr("height",E),a.attr("width",O))},m=i.create("input").attr("type","color");return p.scale=function(e){return arguments.length?(t=e,p):t},p.orientation=function(t){return arguments.length?(e=t,p):e},p.barLength=function(t){return arguments.length?(n=t,p):n},p.breadth=function(t){return arguments.length?(u=t,p):u},p.borderThickness=function(t){return arguments.length?(s=t,p):s},p.padding=function(t){return arguments.length?(f=t,p):f},p.onUpdate=function(t){return arguments.length?(h=t,p):h},p}},3389:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),o(n(3153),e),o(n(3795),e)},1429:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ordinalBar=void 0;const r=n(2777);e.ordinalBar=function(t,e){let n="vertical",o=30;const i=i=>{const a=e[1]-e[0]+1,l=t.domain(),c=a/l.length;let u=i.selectAll("rect.color").data(r.range(e[0],e[1]+1,c));u=u.merge(u.enter().append("rect").attr("stroke-width",0).attr("class","color")),u.exit().remove(),"horizontal"===n?u.attr("fill",((e,n)=>t(l[n]))).attr("width",c).attr("height",o).attr("x",(t=>t)).attr("y",0):u.attr("fill",((e,n)=>t(l[l.length-n-1]))).attr("height",c).attr("width",o).attr("y",(t=>t)).attr("x",0)};return i.scale=function(e){return arguments.length?(t=e,i):t},i.orientation=function(t){return arguments.length?(n=t,i):n},i.breadth=function(t){return arguments.length?(o=t,i):o},i.axisExtent=function(t){return arguments.length?(e=t,i):e},i}},6369:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBBox=void 0,e.getBBox=function t(e){try{return e.getBBox()}catch(n){if(e.attributes.d){let t,n,r,o,i=e.attributes.d.value;i=i.replace(/[a-z].*/g," ").replace(/[\sA-Z]+/gi," ").trim();const a=i.split(" ");for(let e of a)if(e.length>1){let i=e.split(",");t=n=i[0],r=o=i[1];break}for(let e of a){let i=e.split(",");i[1]||(i[0]=t,i[1]=r),t=Math.min(t,i[0]),n=Math.max(n,i[0]),r=Math.min(r,i[1]),o=Math.max(o,i[1])}return new DOMRect(t,r,n-t,o-r)}if("line"===e.tagName){let t=parseFloat(e.getAttribute("x1")||"0"),n=parseFloat(e.getAttribute("x2")||"0"),r=parseFloat(e.getAttribute("y1")||"0"),o=parseFloat(e.getAttribute("y2")||"0"),i=Math.min(t,n),a=Math.max(t,n),l=Math.min(r,o),c=Math.max(r,o);return new DOMRect(i,l,a-i,c-l)}if("text"===e.tagName){let t=parseFloat(e.getAttribute("x")||"0"),n=parseFloat(e.getAttribute("y")||"0");return new DOMRect(t,n,0,0)}if(e.children.length){let n,r,o,i;n=o=1/0,r=i=-1/0;let a=!1;for(let l of Array.from(e.children)){let e=t(l);e&&(a=!0,n=Math.min(n,e.left),r=Math.max(r,e.right),o=Math.min(o,e.top),i=Math.max(i,e.bottom))}if(a)return new DOMRect(n,o,r-n,i-o)}}return new DOMRect(0,0,0,0)}},1077:(t,e,n)=>{"use strict";function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}n.d(e,{Z:()=>r})},4355:(t,e,n)=>{"use strict";n.d(e,{ml:()=>l,Nw:()=>c,ZR:()=>u,ZP:()=>s});var r=n(1077),o=n(9173),i=n(2921);const a=(0,o.Z)(r.Z),l=a.right,c=a.left,u=(0,o.Z)(i.Z).center,s=l},9173:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(1077);function o(t){let e=t,n=t;function o(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)<0?r=i+1:o=i}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>(0,r.Z)(t(e),n)}(t)),{left:o,center:function(t,n,r,i){null==r&&(r=0),null==i&&(i=t.length);const a=o(t,n,r,i-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){const i=r+o>>>1;n(t[i],e)>0?o=i:r=i+1}return r}}}},2777:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Adder:()=>m,ascending:()=>o.Z,bin:()=>T,bisect:()=>r.ZP,bisectCenter:()=>r.ZR,bisectLeft:()=>r.Nw,bisectRight:()=>r.ml,bisector:()=>i.Z,count:()=>a,cross:()=>s,cumsum:()=>f,descending:()=>h,deviation:()=>g,difference:()=>dt,disjoint:()=>gt,every:()=>at,extent:()=>p,filter:()=>ct,fsum:()=>v,greatest:()=>Y,greatestIndex:()=>J,group:()=>w,groups:()=>x,histogram:()=>T,index:()=>k,indexes:()=>A,intersection:()=>mt,least:()=>W,leastIndex:()=>X,map:()=>ut,max:()=>I.Z,maxIndex:()=>G,mean:()=>V,median:()=>C,merge:()=>N,min:()=>D.Z,minIndex:()=>H,nice:()=>O,pairs:()=>L,permute:()=>q,quantile:()=>j.Z,quantileSorted:()=>j.s,quickselect:()=>U.Z,range:()=>K.Z,reduce:()=>st,reverse:()=>ft,rollup:()=>b,rollups:()=>M,scan:()=>Q,shuffle:()=>tt,shuffler:()=>et,some:()=>lt,sort:()=>ht,subset:()=>yt,sum:()=>nt,superset:()=>vt,thresholdFreedmanDiaconis:()=>z,thresholdScott:()=>F,thresholdSturges:()=>B,tickIncrement:()=>E.G9,tickStep:()=>E.ly,ticks:()=>E.ZP,transpose:()=>rt,union:()=>wt,variance:()=>d,zip:()=>it});var r=n(4355),o=n(1077),i=n(9173);function a(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(o=+o)>=o&&++n}return n}function l(t){return 0|t.length}function c(t){return!(t>0)}function u(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function s(...t){const e="function"==typeof t[t.length-1]&&function(t){return e=>t(...e)}(t.pop()),n=(t=t.map(u)).map(l),r=t.length-1,o=new Array(r+1).fill(0),i=[];if(r<0||n.some(c))return i;for(;;){i.push(o.map(((e,n)=>t[n][e])));let a=r;for(;++o[a]===n[a];){if(0===a)return e?i.map(e):i;o[a--]=0}}}function f(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?t=>n+=+t||0:o=>n+=+e(o,r++,t)||0)}function h(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function d(t,e){let n,r=0,o=0,i=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-o,o+=n/++r,i+=n*(e-o));else{let a=-1;for(let l of t)null!=(l=e(l,++a,t))&&(l=+l)>=l&&(n=l-o,o+=n/++r,i+=n*(l-o))}if(r>1)return i/(r-1)}function g(t,e){const n=d(t,e);return n?Math.sqrt(n):n}function p(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(void 0===n?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class m{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],i=t+o,a=Math.abs(t)<Math.abs(o)?t-(i-o):o-(i-t);a&&(e[n++]=a),t=i}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,o=this._n,i=0;if(o>0){for(i=t[--o];o>0&&(e=i,n=t[--o],i=e+n,r=n-(i-e),!r););o>0&&(r<0&&t[o-1]<0||r>0&&t[o-1]>0)&&(n=2*r,e=i+n,n==e-i&&(i=e))}return i}}function v(t,e){const n=new m;if(void 0===e)for(let e of t)(e=+e)&&n.add(e);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&n.add(o)}return+n}function y(t){return t}function w(t,...e){return $(t,y,y,e)}function x(t,...e){return $(t,Array.from,y,e)}function b(t,e,...n){return $(t,y,e,n)}function M(t,e,...n){return $(t,Array.from,e,n)}function k(t,...e){return $(t,y,_,e)}function A(t,...e){return $(t,Array.from,_,e)}function _(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function $(t,e,n,r){return function t(o,i){if(i>=r.length)return n(o);const a=new Map,l=r[i++];let c=-1;for(const t of o){const e=l(t,++c,o),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,i));return e(a)}(t,0)}var Z=Array.prototype,S=Z.slice;function P(t){return function(){return t}}Z.map;var E=n(7614);function O(t,e,n){let r;for(;;){const o=(0,E.G9)(t,e,n);if(o===r||0===o||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),r=o}}function B(t){return Math.ceil(Math.log(a(t))/Math.LN2)+1}function T(){var t=y,e=p,n=B;function o(o){Array.isArray(o)||(o=Array.from(o));var i,a,l=o.length,c=new Array(l);for(i=0;i<l;++i)c[i]=t(o[i],i,o);var u=e(c),s=u[0],f=u[1],h=n(c,s,f);if(!Array.isArray(h)){const t=f,n=+h;if(e===p&&([s,f]=O(s,f,n)),(h=(0,E.ZP)(s,f,n))[h.length-1]>=f)if(t>=f&&e===p){const t=(0,E.G9)(s,f,n);isFinite(t)&&(t>0?f=(Math.floor(f/t)+1)*t:t<0&&(f=(Math.ceil(f*-t)+1)/-t))}else h.pop()}for(var d=h.length;h[0]<=s;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var g,m=new Array(d+1);for(i=0;i<=d;++i)(g=m[i]=[]).x0=i>0?h[i-1]:s,g.x1=i<d?h[i]:f;for(i=0;i<l;++i)s<=(a=c[i])&&a<=f&&m[(0,r.ZP)(h,a,0,d)].push(o[i]);return m}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:P(e),o):t},o.domain=function(t){return arguments.length?(e="function"==typeof t?t:P([t[0],t[1]]),o):e},o.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?P(S.call(t)):P(t),o):n},o}var j=n(1461);function z(t,e,n){return Math.ceil((n-e)/(2*((0,j.Z)(t,.75)-(0,j.Z)(t,.25))*Math.pow(a(t),-1/3)))}function F(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(a(t),-1/3)))}var I=n(8823);function G(t,e){let n,r=-1,o=-1;if(void 0===e)for(const e of t)++o,null!=e&&(n<e||void 0===n&&e>=e)&&(n=e,r=o);else for(let i of t)null!=(i=e(i,++o,t))&&(n<i||void 0===n&&i>=i)&&(n=i,r=o);return r}function V(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let o=-1;for(let i of t)null!=(i=e(i,++o,t))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function C(t,e){return(0,j.Z)(t,.5,e)}function N(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}var D=n(7622);function H(t,e){let n,r=-1,o=-1;if(void 0===e)for(const e of t)++o,null!=e&&(n>e||void 0===n&&e>=e)&&(n=e,r=o);else for(let i of t)null!=(i=e(i,++o,t))&&(n>i||void 0===n&&i>=i)&&(n=i,r=o);return r}function L(t,e=R){const n=[];let r,o=!1;for(const i of t)o&&n.push(e(r,i)),r=i,o=!0;return n}function R(t,e){return[t,e]}function q(t,e){return Array.from(e,(e=>t[e]))}var U=n(4781),K=n(6047);function W(t,e=o.Z){let n,r=!1;if(1===e.length){let i;for(const a of t){const t=e(a);(r?(0,o.Z)(t,i)<0:0===(0,o.Z)(t,t))&&(n=a,i=t,r=!0)}}else for(const o of t)(r?e(o,n)<0:0===e(o,o))&&(n=o,r=!0);return n}function X(t,e=o.Z){if(1===e.length)return H(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?0===e(o,o):e(o,n)<0)&&(n=o,r=i);return r}function Y(t,e=o.Z){let n,r=!1;if(1===e.length){let i;for(const a of t){const t=e(a);(r?(0,o.Z)(t,i)>0:0===(0,o.Z)(t,t))&&(n=a,i=t,r=!0)}}else for(const o of t)(r?e(o,n)>0:0===e(o,o))&&(n=o,r=!0);return n}function J(t,e=o.Z){if(1===e.length)return G(t,e);let n,r=-1,i=-1;for(const o of t)++i,(r<0?0===e(o,o):e(o,n)>0)&&(n=o,r=i);return r}function Q(t,e){const n=X(t,e);return n<0?void 0:n}const tt=et(Math.random);function et(t){return function(e,n=0,r=e.length){let o=r-(n=+n);for(;o;){const r=t()*o--|0,i=e[o+n];e[o+n]=e[r+n],e[r+n]=i}return e}}function nt(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&(n+=o)}return n}function rt(t){if(!(o=t.length))return[];for(var e=-1,n=(0,D.Z)(t,ot),r=new Array(n);++e<n;)for(var o,i=-1,a=r[e]=new Array(o);++i<o;)a[i]=t[i][e];return r}function ot(t){return t.length}function it(){return rt(arguments)}function at(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(!e(r,++n,t))return!1;return!0}function lt(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");let n=-1;for(const r of t)if(e(r,++n,t))return!0;return!1}function ct(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");const n=[];let r=-1;for(const o of t)e(o,++r,t)&&n.push(o);return n}function ut(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}function st(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");const r=t[Symbol.iterator]();let o,i,a=-1;if(arguments.length<3){if(({done:o,value:n}=r.next()),o)return;++a}for(;({done:o,value:i}=r.next()),!o;)n=e(n,i,++a,t);return n}function ft(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()}function ht(t,e=o.Z){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return t=Array.from(t),1===e.length?(e=t.map(e),q(t,t.map(((t,e)=>e)).sort(((t,n)=>(0,o.Z)(e[t],e[n]))))):t.sort(e)}function dt(t,...e){t=new Set(t);for(const n of e)for(const e of n)t.delete(e);return t}function gt(t,e){const n=e[Symbol.iterator](),r=new Set;for(const e of t){if(r.has(e))return!1;let t,o;for(;({value:t,done:o}=n.next())&&!o;){if(Object.is(e,t))return!1;r.add(t)}}return!0}function pt(t){return t instanceof Set?t:new Set(t)}function mt(t,...e){t=new Set(t),e=e.map(pt);t:for(const n of t)for(const r of e)if(!r.has(n)){t.delete(n);continue t}return t}function vt(t,e){const n=t[Symbol.iterator](),r=new Set;for(const t of e){if(r.has(t))continue;let e,o;for(;({value:e,done:o}=n.next());){if(o)return!1;if(r.add(e),Object.is(t,e))break}}return!0}function yt(t,e){return vt(e,t)}function wt(...t){const e=new Set;for(const n of t)for(const t of n)e.add(t);return e}},8823:(t,e,n)=>{"use strict";function r(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}n.d(e,{Z:()=>r})},7622:(t,e,n)=>{"use strict";function r(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let o of t)null!=(o=e(o,++r,t))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}n.d(e,{Z:()=>r})},2921:(t,e,n)=>{"use strict";function r(t){return null===t?NaN:+t}function*o(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}n.d(e,{Z:()=>r,K:()=>o})},1461:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l,s:()=>c});var r=n(8823),o=n(7622),i=n(4781),a=n(2921);function l(t,e,n){if(l=(t=Float64Array.from((0,a.K)(t,n))).length){if((e=+e)<=0||l<2)return(0,o.Z)(t);if(e>=1)return(0,r.Z)(t);var l,c=(l-1)*e,u=Math.floor(c),s=(0,r.Z)((0,i.Z)(t,u).subarray(0,u+1));return s+((0,o.Z)(t.subarray(u+1))-s)*(c-u)}}function c(t,e,n=a.Z){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,i=Math.floor(o),l=+n(t[i],i,t);return l+(+n(t[i+1],i+1,t)-l)*(o-i)}}},4781:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(1077);function o(t,e,n=0,a=t.length-1,l=r.Z){for(;a>n;){if(a-n>600){const r=a-n+1,i=e-n+1,c=Math.log(r),u=.5*Math.exp(2*c/3),s=.5*Math.sqrt(c*u*(r-u)/r)*(i-r/2<0?-1:1);o(t,e,Math.max(n,Math.floor(e-i*u/r+s)),Math.min(a,Math.floor(e+(r-i)*u/r+s)),l)}const r=t[e];let c=n,u=a;for(i(t,n,e),l(t[a],r)>0&&i(t,n,a);c<u;){for(i(t,c,u),++c,--u;l(t[c],r)<0;)++c;for(;l(t[u],r)>0;)--u}0===l(t[n],r)?i(t,n,u):(++u,i(t,u,a)),u<=e&&(n=u+1),e<=u&&(a=u-1)}return t}function i(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}},6047:(t,e,n)=>{"use strict";function r(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}n.d(e,{Z:()=>r})},7614:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>a,G9:()=>l,ly:()=>c});var r=Math.sqrt(50),o=Math.sqrt(10),i=Math.sqrt(2);function a(t,e,n){var r,o,i,a,c=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=l(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(o=Math.ceil(e-t+1));++c<o;)i[c]=(t+c)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),i=new Array(o=Math.ceil(e-t+1));++c<o;)i[c]=(t+c)/a;return r&&i.reverse(),i}function l(t,e,n){var a=(e-t)/Math.max(0,n),l=Math.floor(Math.log(a)/Math.LN10),c=a/Math.pow(10,l);return l>=0?(c>=r?10:c>=o?5:c>=i?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(c>=r?10:c>=o?5:c>=i?2:1)}function c(t,e,n){var a=Math.abs(e-t)/Math.max(0,n),l=Math.pow(10,Math.floor(Math.log(a)/Math.LN10)),c=a/l;return c>=r?l*=10:c>=o?l*=5:c>=i&&(l*=2),e<t?-l:l}},6216:(t,e,n)=>{"use strict";n.r(e),n.d(e,{axisBottom:()=>g,axisLeft:()=>p,axisRight:()=>d,axisTop:()=>h});var r=Array.prototype.slice;function o(t){return t}var i=1e-6;function a(t){return"translate("+(t+.5)+",0)"}function l(t){return"translate(0,"+(t+.5)+")"}function c(t){return e=>+t(e)}function u(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function s(){return!this.__axis}function f(t,e){var n=[],f=null,h=null,d=6,g=6,p=3,m=1===t||4===t?-1:1,v=4===t||2===t?"x":"y",y=1===t||3===t?a:l;function w(r){var a=null==f?e.ticks?e.ticks.apply(e,n):e.domain():f,l=null==h?e.tickFormat?e.tickFormat.apply(e,n):o:h,w=Math.max(d,0)+p,x=e.range(),b=+x[0]+.5,M=+x[x.length-1]+.5,k=(e.bandwidth?u:c)(e.copy()),A=r.selection?r.selection():r,_=A.selectAll(".domain").data([null]),$=A.selectAll(".tick").data(a,e).order(),Z=$.exit(),S=$.enter().append("g").attr("class","tick"),P=$.select("line"),E=$.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(S),P=P.merge(S.append("line").attr("stroke","currentColor").attr(v+"2",m*d)),E=E.merge(S.append("text").attr("fill","currentColor").attr(v,m*w).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),r!==A&&(_=_.transition(r),$=$.transition(r),P=P.transition(r),E=E.transition(r),Z=Z.transition(r).attr("opacity",i).attr("transform",(function(t){return isFinite(t=k(t))?y(t):this.getAttribute("transform")})),S.attr("opacity",i).attr("transform",(function(t){var e=this.parentNode.__axis;return y(e&&isFinite(e=e(t))?e:k(t))}))),Z.remove(),_.attr("d",4===t||2==t?g?"M"+m*g+","+b+"H0.5V"+M+"H"+m*g:"M0.5,"+b+"V"+M:g?"M"+b+","+m*g+"V0.5H"+M+"V"+m*g:"M"+b+",0.5H"+M),$.attr("opacity",1).attr("transform",(function(t){return y(k(t))})),P.attr(v+"2",m*d),E.attr(v,m*w).text(l),A.filter(s).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),A.each((function(){this.__axis=k}))}return w.scale=function(t){return arguments.length?(e=t,w):e},w.ticks=function(){return n=r.call(arguments),w},w.tickArguments=function(t){return arguments.length?(n=null==t?[]:r.call(t),w):n.slice()},w.tickValues=function(t){return arguments.length?(f=null==t?null:r.call(t),w):f&&f.slice()},w.tickFormat=function(t){return arguments.length?(h=t,w):h},w.tickSize=function(t){return arguments.length?(d=g=+t,w):d},w.tickSizeInner=function(t){return arguments.length?(d=+t,w):d},w.tickSizeOuter=function(t){return arguments.length?(g=+t,w):g},w.tickPadding=function(t){return arguments.length?(p=+t,w):p},w}function h(t){return f(1,t)}function d(t){return f(2,t)}function g(t){return f(3,t)}function p(t){return f(4,t)}},8679:(t,e,n)=>{"use strict";n.r(e),n.d(e,{drag:()=>b,dragDisable:()=>d,dragEnable:()=>g});var r={value:function(){}};function o(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function a(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function l(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function c(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=r,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}i.prototype=o.prototype={constructor:i,on:function(t,e){var n,r=this._,o=a(t+"",r),i=-1,u=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<u;)if(n=(t=o[i]).type)r[n]=c(r[n],t.name,e);else if(null==e)for(n in r)r[n]=c(r[n],t.name,null);return this}for(;++i<u;)if((n=(t=o[i]).type)&&(n=l(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};const u=o;var s=n(1668);function f(){s.event.stopImmediatePropagation()}function h(){s.event.preventDefault(),s.event.stopImmediatePropagation()}function d(t){var e=t.document.documentElement,n=(0,s.select)(t).on("dragstart.drag",h,!0);"onselectstart"in e?n.on("selectstart.drag",h,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function g(t,e){var n=t.document.documentElement,r=(0,s.select)(t).on("dragstart.drag",null);e&&(r.on("click.drag",h,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function p(t){return function(){return t}}function m(t,e,n,r,o,i,a,l,c,u){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=o,this.x=i,this.y=a,this.dx=l,this.dy=c,this._=u}function v(){return!s.event.ctrlKey&&!s.event.button}function y(){return this.parentNode}function w(t){return null==t?{x:s.event.x,y:s.event.y}:t}function x(){return navigator.maxTouchPoints||"ontouchstart"in this}function b(){var t,e,n,r,o=v,i=y,a=w,l=x,c={},b=u("start","drag","end"),M=0,k=0;function A(t){t.on("mousedown.drag",_).filter(l).on("touchstart.drag",S).on("touchmove.drag",P).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(){if(!r&&o.apply(this,arguments)){var a=O("mouse",i.apply(this,arguments),s.mouse,this,arguments);a&&((0,s.select)(s.event.view).on("mousemove.drag",$,!0).on("mouseup.drag",Z,!0),d(s.event.view),f(),n=!1,t=s.event.clientX,e=s.event.clientY,a("start"))}}function $(){if(h(),!n){var r=s.event.clientX-t,o=s.event.clientY-e;n=r*r+o*o>k}c.mouse("drag")}function Z(){(0,s.select)(s.event.view).on("mousemove.drag mouseup.drag",null),g(s.event.view,n),h(),c.mouse("end")}function S(){if(o.apply(this,arguments)){var t,e,n=s.event.changedTouches,r=i.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=O(n[t].identifier,r,s.touch,this,arguments))&&(f(),e("start"))}}function P(){var t,e,n=s.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=c[n[t].identifier])&&(h(),e("drag"))}function E(){var t,e,n=s.event.changedTouches,o=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<o;++t)(e=c[n[t].identifier])&&(f(),e("end"))}function O(t,e,n,r,o){var i,l,u,f=n(e,t),h=b.copy();if((0,s.customEvent)(new m(A,"beforestart",i,t,M,f[0],f[1],0,0,h),(function(){return null!=(s.event.subject=i=a.apply(r,o))&&(l=i.x-f[0]||0,u=i.y-f[1]||0,!0)})))return function a(d){var g,p=f;switch(d){case"start":c[t]=a,g=M++;break;case"end":delete c[t],--M;case"drag":f=n(e,t),g=M}(0,s.customEvent)(new m(A,d,i,t,g,f[0]+l,f[1]+u,f[0]-p[0],f[1]-p[1],h),h.apply,h,[d,r,o])}}return A.filter=function(t){return arguments.length?(o="function"==typeof t?t:p(!!t),A):o},A.container=function(t){return arguments.length?(i="function"==typeof t?t:p(t),A):i},A.subject=function(t){return arguments.length?(a="function"==typeof t?t:p(t),A):a},A.touchable=function(t){return arguments.length?(l="function"==typeof t?t:p(!!t),A):l},A.on=function(){var t=b.on.apply(b,arguments);return t===b?A:t},A.clickDistance=function(t){return arguments.length?(k=(t=+t)*t,A):Math.sqrt(k)},A}m.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t}}}]);