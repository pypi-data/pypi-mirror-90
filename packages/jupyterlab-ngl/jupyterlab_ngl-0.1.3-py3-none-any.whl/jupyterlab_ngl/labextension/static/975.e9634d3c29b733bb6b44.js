(self.webpackChunkjupyterlab_ngl=self.webpackChunkjupyterlab_ngl||[]).push([[975],{8778:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var i,n=a(7635),l=a(4927),r=a(5173),c=a(6271),s=a.n(c),d=a(2742),o=a(352),u=a(282),g=a(9827),m=a(6562),h=a(6546),p=a(3272),b=a(1120);function k(e){const t=(0,b.Z)((e=>({container:{display:"flex",flexWrap:"wrap",position:"absolute",top:0,left:0,height:"100%",width:"100%",alignItems:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},formGroup:{alignItems:"center"}})))(),[a,i]=s().useState({checkedA:!1,checkedB:!1});return s().createElement("div",null,s().createElement(m.Z,{className:t.formGroup},s().createElement(h.Z,{control:s().createElement(p.Z,{checked:a.checkedA,onChange:t=>{i({...a,[t.target.name]:t.target.checked}),e.clickHandler1()},name:"checkedA"}),label:"Secondary"}),s().createElement(h.Z,{control:s().createElement(p.Z,{checked:a.checkedB,onChange:t=>{i({...a,[t.target.name]:t.target.checked}),e.clickHandler2()},name:"checkedB",color:"primary"}),label:"Primary"})))}class y extends n.ReactWidget{constructor(){super(),this.addClass("jp-ReactWidget"),this.uuid=g.uniqueId("ngl_"),window.requestAnimationFrame((()=>{this.visualizer()}))}visualizer(){d.DatasourceRegistry.add("data",new d.StaticDatasource("//cdn.rawgit.com/arose/ngl/v2.0.0-dev.32/data/"));const e=new d.Stage(this.uuid,{backgroundColor:"black"});window.addEventListener("resize",(t=>{e.handleResize()}),!1),e.viewer.container.addEventListener("dblclick",(()=>{e.toggleFullscreen()})),e.loadFile("data://1crn.pdb").then((e=>{e.addRepresentation("tube",{radius:"sstruc"}),e.addRepresentation("ball+stick",{sele:"sidechainAttached"}),e.addRepresentation("label",{sele:".CA",color:"element",labelType:"format",labelFormat:"%(resname)s %(chainname)s%(resno)s"}),e.autoView()})),e.loadFile("data://1crn.ply",{name:"dou"}).then((e=>{e.addRepresentation("surface",{opacity:.3,side:"front",color:"red"})})),this.stage=e}updateIsosurface(e){this.stage.getRepresentationsByName("surface").setParameters({opacity:e}),this.stage.getComponentsByName("dou").list[0].setVisibility(!0)}toggleVisibility(){const e=this.stage.getComponentsByName("dou").list[0];e.setVisibility(!e.visible)}toggleSpin(){this.stage.toggleSpin()}render(){return s().createElement("div",null,s().createElement("div",{id:this.uuid,style:{width:"800px",height:"450px",backgroundColor:"black",margin:"0 auto"}}),s().createElement("div",{style:{textAlign:"center"}},s().createElement(o.Z,{id:"iso-slider",style:{width:"500px"},defaultValue:30,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:5,min:0,max:100,marks:[{value:0,label:"0%"},{value:50,label:"50%"},{value:100,label:"100%"}],onChange:(e,t)=>{const a=t/100;this.updateIsosurface(a)}})),s().createElement("div",{style:{textAlign:"center"}},s().createElement(u.Z,{color:"primary",variant:"contained",onClick:()=>this.toggleVisibility()},"Show surface")),s().createElement(k,{clickHandler1:()=>this.stage.toggleSpin(),clickHandler2:()=>this.stage.toggleFullscreen()}))}}!function(e){e.create="create-react-widget"}(i||(i={}));const w={id:"react-widget",autoStart:!0,optional:[l.ILauncher],activate:(e,t)=>{const{commands:a}=e,l=i.create;a.addCommand(l,{caption:"Create a new React Widget",label:"NGL Visualizer",icon:e=>e.isPalette?null:r.reactIcon,execute:()=>{const t=new y,a=new n.MainAreaWidget({content:t});a.title.label="NGL Visualizer",e.shell.add(a,"main")}}),t&&t.add({command:l})}}}}]);