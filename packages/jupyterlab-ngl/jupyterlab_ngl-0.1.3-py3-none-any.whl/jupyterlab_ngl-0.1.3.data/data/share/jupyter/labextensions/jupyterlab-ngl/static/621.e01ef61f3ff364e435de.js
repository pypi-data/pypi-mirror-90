(self.webpackChunkjupyterlab_ngl=self.webpackChunkjupyterlab_ngl||[]).push([[621],{5492:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var l=a(7635),i=a(4927),n=a(5173),r=a(6271),c=a.n(r),s=a(2742),o=a(282),d=a(9827),u=a(1120),g=a(352),m=a(5546),h=a(3457),p=a(5834),b=a(7748),v=a(1749);function y(e){function t(e){return`${e}Â°C`}const a=(0,u.Z)({root:{flexGrow:1,marginTop:"40px",width:"700px",marginLeft:"60px"}})(),l=(0,m.Z)({palette:{type:"dark"}});return c().createElement(h.Z,{theme:l},c().createElement(p.ZP,null),c().createElement(c().Fragment,null,c().createElement("div",{className:a.root},c().createElement(v.Z,{container:!0,spacing:3,justify:"center"},c().createElement(v.Z,{item:!0,sm:10},c().createElement(b.Z,{id:e.uuid,style:{width:"600px",height:"400px",backgroundColor:"black"}})),c().createElement(v.Z,{item:!0,sm:1},c().createElement(g.Z,{orientation:"vertical",getAriaValueText:t,valueLabelDisplay:"auto",defaultValue:30,"aria-labelledby":"vertical-slider",min:0,max:100,marks:[{value:0,label:"0%"},{value:20,label:"20%"},{value:40,label:"40%"},{value:60,label:"60%"},{value:80,label:"80%"},{value:100,label:"100%"}],onChange:e.changeHandler1,color:"primary"})),c().createElement(v.Z,{item:!0,sm:1},c().createElement(g.Z,{orientation:"vertical",defaultValue:[.01,-.01],"aria-labelledby":"vertical-slider",getAriaValueText:t,valueLabelDisplay:"on",marks:[{value:-.04,label:"-0.04"},{value:-.02,label:"-0.02"},{value:0,label:"0"},{value:.02,label:"0.02"},{value:.04,label:"0.04"}],min:-.04,max:.04,step:.001,onChange:e.changeHandler2,color:"secondary"}))))))}var f,k=a(6562),w=a(6546),E=a(3272);function C(e){const t=(0,u.Z)((e=>({container:{display:"flex",flexWrap:"wrap",position:"absolute",top:0,left:0,height:"100%",width:"100%",alignItems:"center"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},formGroup:{alignItems:"center",marginLeft:"100px"}})))(),[a,l]=c().useState({checkedA:!1,checkedB:!0,checkedC:!0});return c().createElement("div",null,c().createElement(k.Z,{className:t.formGroup,row:!0},c().createElement(w.Z,{control:c().createElement(E.Z,{checked:a.checkedA,onChange:t=>{l({...a,[t.target.name]:t.target.checked}),e.clickHandler1()},name:"checkedA"}),label:"Toggle Spin"}),c().createElement(w.Z,{control:c().createElement(E.Z,{checked:a.checkedB,onChange:t=>{l({...a,[t.target.name]:t.target.checked}),e.clickHandler2()},name:"checkedB",color:"primary"}),label:"Alpha"}),c().createElement(w.Z,{control:c().createElement(E.Z,{checked:a.checkedC,onChange:t=>{l({...a,[t.target.name]:t.target.checked}),e.clickHandler3()},name:"checkedC",color:"secondary"}),label:"Beta"})))}class Z extends l.ReactWidget{constructor(){super(),this.addClass("jp-ReactWidget"),this.uuid=d.uniqueId("ngl_"),window.requestAnimationFrame((()=>{this.visualizer()}))}visualizer(){s.DatasourceRegistry.add("data",new s.StaticDatasource("//cdn.rawgit.com/arose/ngl/v2.0.0-dev.32/data/"));const e=new s.Stage(this.uuid,{backgroundColor:"black"});window.addEventListener("resize",(t=>{e.handleResize()}),!1),e.viewer.container.addEventListener("dblclick",(()=>{e.toggleFullscreen()})),e.loadFile("data://benzene.sdf",{name:"structure1"}).then((e=>{e.addRepresentation("ball+stick"),e.addRepresentation("label",{labelType:"atomindex",color:"white"}),e.addRepresentation("angle",{atomTriple:[[0,1,2]],labelSize:1,labelColor:"yellow",sdf:!1}),e.autoView()})),e.loadFile("data://benzene-homo.cube",{name:"surface_1"}).then((e=>{e.addRepresentation("surface",{visible:!0,isolevelType:"value",isolevel:.01,color:"blue",opacity:.7,opaqueBack:!1}),e.signals.visibilityChanged.add((e=>{console.log("Dou Du****:"+e)})),e.autoView()})),e.loadFile("data://benzene-homo.cube",{name:"surface_2"}).then((e=>{e.addRepresentation("surface",{visible:!0,isolevelType:"value",isolevel:-.01,color:"red",opacity:.7,opaqueBack:!1}),e.autoView()})),this.stage=e}updateIsosurface(e){this.stage.getRepresentationsByName("surface").setParameters({opacity:e}),this.stage.getComponentsByName("surface_1").list[0].setVisibility(!0),this.stage.getComponentsByName("surface_2").list[0].setVisibility(!0)}updateIsolevel(e,t){this.stage.getComponentsByName(t).list[0].eachRepresentation((t=>{t.setParameters({isolevel:e})}))}toggleVisibility(e){const t=this.stage.getComponentsByName(e).list[0];t.setVisibility(!t.visible)}setVisibility(e,t){this.stage.getComponentsByName(e).list[0].setVisibility(t)}toggleSpin(){this.stage.toggleSpin()}render(){return c().createElement("div",null,c().createElement("div",{style:{width:"30%"}},c().createElement(y,{uuid:this.uuid,changeHandler1:(e,t)=>{const a=t/100;this.updateIsosurface(a)},changeHandler2:(e,t)=>{const a=t;this.updateIsolevel(a[0],"surface_1"),this.updateIsolevel(a[1],"surface_2")}})),c().createElement("div",{style:{marginLeft:"200px",marginTop:"10px"}},c().createElement(o.Z,{color:"primary",variant:"contained",onClick:()=>{this.toggleVisibility("surface_1"),this.toggleVisibility("surface_2")}},"Toggle surface"),c().createElement(o.Z,{style:{marginLeft:"30px"},color:"secondary",variant:"contained",onClick:()=>{this.toggleVisibility("structure1")}},"Toggle structure")),c().createElement(C,{clickHandler1:()=>this.stage.toggleSpin(),clickHandler2:()=>this.toggleVisibility("surface_1"),clickHandler3:()=>this.toggleVisibility("surface_2")}))}}!function(e){e.create="create-react-widget"}(f||(f={}));const x={id:"react-widget",autoStart:!0,optional:[i.ILauncher],activate:(e,t)=>{const{commands:a}=e,i=f.create;a.addCommand(i,{caption:"Create a new React Widget",label:"NGL Visualizer",icon:e=>e.isPalette?null:n.reactIcon,execute:()=>{const t=new Z,a=new l.MainAreaWidget({content:t});a.title.label="NGL Visualizer",e.shell.add(a,"main")}}),t&&t.add({command:i})}}}}]);