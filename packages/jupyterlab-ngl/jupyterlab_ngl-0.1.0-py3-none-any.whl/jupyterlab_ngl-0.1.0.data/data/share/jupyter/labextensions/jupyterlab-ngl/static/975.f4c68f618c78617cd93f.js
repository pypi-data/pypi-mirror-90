(self.webpackChunkjupyterlab_ngl=self.webpackChunkjupyterlab_ngl||[]).push([[975],{778:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var i,n=a(635),s=a(927),l=a(173),r=a(271),d=a.n(r),c=a(742),o=a(352),u=a(282),g=a(827),m=a(723);class h extends n.ReactWidget{constructor(){super(),this.addClass("jp-ReactWidget"),this.uuid=g.uniqueId("ngl_"),window.requestAnimationFrame((()=>{this.visualizer()}))}visualizer(){c.DatasourceRegistry.add("data",new c.StaticDatasource("//cdn.rawgit.com/arose/ngl/v2.0.0-dev.32/data/"));const e=new c.Stage(this.uuid);window.addEventListener("resize",(t=>{e.handleResize()}),!1),e.viewer.container.addEventListener("dblclick",(()=>{e.toggleFullscreen()})),e.loadFile("data://1crn.pdb").then((e=>{e.addRepresentation("tube",{radius:"sstruc"}),e.addRepresentation("ball+stick",{sele:"sidechainAttached"}),e.addRepresentation("label",{sele:".CA",color:"element",labelType:"format",labelFormat:"%(resname)s %(chainname)s%(resno)s"}),e.autoView()})),e.loadFile("data://1crn.ply",{name:"dou"}).then((e=>{e.addRepresentation("surface",{opacity:.3,side:"front",color:"red"})})),this.stage=e}updateIsosurface(e){this.stage.getRepresentationsByName("surface").setParameters({opacity:e}),this.stage.getComponentsByName("dou").list[0].setVisibility(!0)}toggleVisibility(){const e=this.stage.getComponentsByName("dou").list[0];e.setVisibility(!e.visible)}toggleSpin(){this.stage.toggleSpin()}render(){return d().createElement("div",null,d().createElement("div",{id:this.uuid,style:{width:"800px",height:"500px",backgroundColor:"black",margin:"0 auto"}}),d().createElement("div",{style:{textAlign:"center"}},d().createElement(o.Z,{id:"iso-slider",style:{width:"500px"},defaultValue:30,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:5,min:0,max:100,marks:[{value:0,label:"0%"},{value:50,label:"50%"},{value:100,label:"100%"}],onChange:(e,t)=>{const a=t/100;this.updateIsosurface(a)}})),d().createElement("div",{style:{textAlign:"center"}},d().createElement(u.Z,{color:"primary",variant:"contained",onClick:()=>this.toggleVisibility()},"Show surface")),d().createElement("div",{style:{textAlign:"center"}},d().createElement(m.Z,{checked:!0,onChange:()=>this.toggleSpin(),name:"checkedA",inputProps:{"aria-label":"secondary checkbox"}})))}}!function(e){e.create="create-react-widget"}(i||(i={}));const p={id:"react-widget",autoStart:!0,optional:[s.ILauncher],activate:(e,t)=>{const{commands:a}=e,s=i.create;a.addCommand(s,{caption:"Create a new React Widget",label:"NGL Visualizer",icon:e=>e.isPalette?null:l.reactIcon,execute:()=>{const t=new h,a=new n.MainAreaWidget({content:t});a.title.label="NGL Visualizer",e.shell.add(a,"main")}}),t&&t.add({command:s})}}}}]);