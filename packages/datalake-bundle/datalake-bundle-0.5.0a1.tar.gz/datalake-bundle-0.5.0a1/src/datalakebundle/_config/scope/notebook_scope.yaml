services:
  datalakebundle.logger:
    class: logging.Logger
    factory: ['@datalakebundle.table.logger.TableLoggerFactory', 'create']
    arguments:
      - '@datalakebundle.table.config.current'
    tags:
      - {name: 'databricksbundle.notebook.logger', alias: 'datalake_table'}

  datalakebundle.table.config.current:
    class: datalakebundle.table.config.TableConfig
    factory: ['@datalakebundle.table.config.TableConfigResolver', 'resolve']
    arguments:
      - '@databricksbundle.notebook.path'

  datalakebundle.table.config.NotebookParamsResolver:
    arguments:
      - '%datalakebundle.tables%'

  datalakebundle.table.config.NotebookParams:
    factory: ['@datalakebundle.table.config.NotebookParamsResolver', 'resolve']
    arguments:
      - '@datalakebundle.table.config.current'

  datalakebundle.table.config.TableConfigResolver:
    arguments:
      - '%datalakebundle.notebook.scriptPathTemplate%'
      - '%datalakebundle.tables%'

  datalakebundle.table.logger.TableLoggerFactory:
